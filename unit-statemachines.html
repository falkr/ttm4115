<html lang="en-US"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>TTM4115</title>
<meta property="og:title" content="TTM4115">
<meta property="og:locale" content="en_US">
<meta name="description" content="Design of Communicating Systems">
<meta property="og:description" content="Design of Communicating Systems">


<!--<link rel="stylesheet" type="text/css" href="style.css" />-->
<link href="https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Source+Code+Pro|Source+Sans+Pro:200,300,400,600,400italic,600italic|Rock+Salt" rel="stylesheet" type="text/css">


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">


<link rel="stylesheet" type="text/css" href="assets/style.css" />
<link rel="stylesheet" type="text/css" href="assets/bootstrap-icons.css">

<script src="assets/anchor.js"></script>
<script src="assets/script-aside.js"></script>
</head>
<body id="top">

<nav class="navbar navbar-expand-md navbar-dark " style="background-color:#666666"#2B65EC"> <!-- fixed-top -->
        <ul class="nav nav-pills">
        <li class="nav-item">
    <a class="nav-link" href="index.html" style="font-weight: bold")>TTM4115</a>
  </li>
        
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Preparation</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="prep-setup.html">Introduction and Setup</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="prep-modeling.html">Modeling and Deployment</a>
      <a class="dropdown-item" href="prep-statemachines.html">State Machines</a>
      <a class="dropdown-item" href="prep-user-requirements.html">User Requirements</a>
      <a class="dropdown-item" href="prep-stmpy.html">State Machines in Python</a>
      <a class="dropdown-item" href="prep-agile.html">Agile Development</a>
      <a class="dropdown-item" href="prep-communication.html">Communication</a>
      <a class="dropdown-item" href="prep-interactions.html">Interactions</a>
      <a class="dropdown-item" href="prep-components.html">Components</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Activities</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="unit-setup.html">Team Setup</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="unit-modeling.html">Modeling and Deployment</a>
      <a class="dropdown-item" href="unit-statemachines.html">State Machines</a>
      <a class="dropdown-item" href="unit-user-requirements.html">User Requirements</a>
      <a class="dropdown-item" href="unit-stmpy.html">State Machines in Python</a>
  	  <a class="dropdown-item" href="unit-agile.html">Agile Development</a>
      <a class="dropdown-item" href="unit-communication.html">Communication</a>
      <a class="dropdown-item" href="unit-interactions.html">Interactions</a>
      <a class="dropdown-item" href="unit-components.html">Components</a>
      <div class="dropdown-divider"></div>
	  <a class="dropdown-item" href="unit-modeling-diagram-tips.html">Focus: Diagram Tips</a>
      <a class="dropdown-item" href="unit-statemachines-data.html">Focus: State Machines — Data vs. States</a>
	  <a class="dropdown-item" href="unit-statemachines-car.html">Focus: State Machines — Car Lock Example</a>
    <a class="dropdown-item" href="unit-statemachines-head.html">Focus: State Machines — Headphones Exercise</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="unit-components-tips.html">Tips: Components</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Deliveries</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="deliveries.html">Deliveries Overview</a>
      <a class="dropdown-item" href="deliveries-project.html">Semester Project</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t1.html">System Spec, version 1</a>
      <a class="dropdown-item" href="deliveries-i1.html">Feedback on version 1</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t2.html">System Spec, version 2</a>
      <a class="dropdown-item" href="deliveries-i2.html">Feedback on version 2</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t3.html">System Spec, final version</a>
      <a class="dropdown-item" href="deliveries-i3.html">Individual Reflection</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Tools</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="tools.html">Tools Overview</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="tools-python.html">Python</a>
	    <a class="dropdown-item" href="tools-gui.html">Python GUIs with appJar</a>
      <a class="dropdown-item" href="tools-notebooks.html">Python Notebooks</a>
      <a class="dropdown-item" href="tools-mqtt.html">MQTT</a>
      <a class="dropdown-item" href="tools-stmpy.html">STMPY</a>
	  <a class="dropdown-item" href="tools-base.html">Base Architecture</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Learning</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="learning-goals.html">Learning Goals</a>
      <a class="dropdown-item" href="learning-tbl.html">Team-Based Learning</a>
      <a class="dropdown-item" href="learning-teamwork.html">Teamwork Procedures</a>
      <a class="dropdown-item" href="learning-reflection.html">Reflection</a>
      <a class="dropdown-item" href="feedback.html">Feedback</a>
      <a class="dropdown-item" href="learning-grading.html">Grading</a>
      <!--<a class="dropdown-item" href="learning-areas.html">Working Areas</a>-->
      <!--<a class="dropdown-item" href="learning-expectations.html">Expectations</a>-->
    </div>
  </li>
  <!--
  <li class="nav-item">
    <a class="nav-link" href="#">Blackboard</a>
  </li>-->
</ul>

<div class="navbar-nav flex-row ml-md-auto d-none d-md-flex"></div>
             <a class="navbar-brand" href="https://ntnu.edu" title="NTNU Homepage">
      	<svg width="100" height="30">
      		<image xlink:href="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.svg" 
      		src="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.png" width="100%" height="100%" alt="NTNU Logo"></image>
      	</svg>
      </a>
    </nav>


<div class="page">
    </section>
    <section class="content">
<h1 id="state-machines">State Machines</h1>
<p>Until now, you have learned about all the features that we need for state machines, but you have not yet created one on your own.</p>

<p>Revisit the <a href="unit-statemachines-creation.html">preparation material on how to create state machines</a>. Assign one in the group who guides a brief summary through the points, and discuss any things that you may need clarification for.</p>
<p>This is just to ensure that you remember the proceedings as you will need them today.</p>

    </section>
    <section class="content">
<h1 id="errors-in-state-machines">Errors in State Machines</h1>
<p>Before we create our own state machines, let’s criticize some others and find mistakes in them first.</p>
<p>For each of the state machines, formulate a short sentence (or two) that describe what’s wrong with them. Collect these sentences in a text document while you work, then submit them as a form given below.</p>

<h3 id="state-machine-1">State Machine 1</h3>

<div class="figure">
<img src="figures/statemachines/stm-e-1.png" alt="" width="100%"/>
<span name="figures/statemachines/stm-e-1.png">&nbsp;</span>
<aside name="figures/statemachines/stm-e-1.png"><p>
</p></aside>
</div>
<h3 id="state-machine-2">State Machine 2</h3>

<div class="figure">
<img src="figures/statemachines/stm-e-2.png" alt="" width="100%"/>
<span name="figures/statemachines/stm-e-2.png">&nbsp;</span>
<aside name="figures/statemachines/stm-e-2.png"><p>
</p></aside>
</div>
<h3 id="state-machine-3">State Machine 3</h3>

<div class="figure">
<img src="figures/statemachines/stm-e-3.png" alt="" width="100%"/>
<span name="figures/statemachines/stm-e-3.png">&nbsp;</span>
<aside name="figures/statemachines/stm-e-3.png"><p>
</p></aside>
</div>
<h3 id="state-machine-4">State Machine 4</h3>

<div class="figure">
<img src="figures/statemachines/stm-e-4.png" alt="" width="100%"/>
<span name="figures/statemachines/stm-e-4.png">&nbsp;</span>
<aside name="figures/statemachines/stm-e-4.png"><p>
</p></aside>
</div>
<h3 id="state-machine-5">State Machine 5</h3>

<div class="figure">
<img src="figures/statemachines/stm-e-5.png" alt="" width="100%"/>
<span name="figures/statemachines/stm-e-5.png">&nbsp;</span>
<aside name="figures/statemachines/stm-e-5.png"><p>
</p></aside>
</div>
<h3 id="state-machine-6">State Machine 6</h3>

<div class="figure">
<img src="figures/statemachines/stm-e-6.png" alt="" width="100%"/>
<span name="figures/statemachines/stm-e-6.png">&nbsp;</span>
<aside name="figures/statemachines/stm-e-6.png"><p>
</p></aside>
</div>
<div class="delivery"><p>Delivery your diagnostics on the state machines in <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=cgahCS-CZ0SluluzdZZ8BSxiepoCd7lKk70IThBWqdJUQ0ZTRFVIODBUNlNTRzFEUU02VUJVMTc0Mi4u">this form</a>.</p>
</div>
    </section>
    <section class="content">
<h1 id="getting-started-bus-stop">Getting Started: Bus Stop</h1>
<p>You should build the state machine for a bus stop signal light. It is intended for bus stops where busses only halt when there are passengers, and which are located so that it is difficult for a bus driver to see passengers when they approach. It may also be that they need to get off a larger road, but can stay on that road if there are not passengers. The solution is a signal light that passengers can activate at the buss top and which is better visible for the approaching bus.</p>

<div class="figure">
<img src="figures/statemachines/bus-1.png" alt="Sketch of the bus stop." width="100%"/>
<span name="figures/statemachines/bus-1.png">&nbsp;</span>
<aside name="figures/statemachines/bus-1.png"><p><p>Sketch of the bus stop.</p>
</p></aside>
</div>
<p>Here are the detailed functional requirements:</p>
<ul>
<li>Passengers waiting at the bus stop can press a button, upon which the signal lamp switches on.</li>
<li>The bus driver can switch the light off via a radio message <code>bus</code>.</li>
<li>The light switches off 10 minutes after it was pressed, even if no bus came.</li>
<li>If a passenger presses the button and the light is already on, it stays on, but the 10 minutes timer starts again with 10 minutes.</li>
</ul>
<p>Use the following elements:</p>
<ul>
<li>actions <code>lamp_on()</code>, <code>lamp_off()</code>, <code>start_timer('t', 600000)</code></li>
<li>triggers <code>button</code>, <code>bus</code>, <code>t</code></li>
<li>states <code>on</code>, <code>off</code>, and an initial state</li>
</ul>
<p>You can ignore for now that the system may be switched off, so you need no final state.</p>
<h2 id="create-a-state-machine-individually">Create a State Machine, Individually</h2>

<ul>
<li>Use some time to find a first solution each one on your own.</li>
<li>Use pencil and paper.</li>
</ul>

<h2 id="create-a-state-machine-together">Create a State Machine, Together</h2>
<ul>
<li>Compare your solutions, one at a time.</li>
<li>Starting again with an empty screen, whiteboard or paper, design the state machine once again, together.</li>
<li>Play through this simple scenario, and correct your state machine if necessary.</li>
</ul>

<h2 id="solution">Solution</h2>
<ul>
<li>Once you are happy with your solution, have a look at <a href="files/bus-stop.pdf">my solution</a>.</li>
<li>Compare the solutions in detail. (If you find that my solution has any flaws, please discuss on MS Teams!)</li>
<li>Prepare a document where you show your solution and mine side-by-side, and compare.</li>
<li>Reflect about your process towards this machine.
<ul>
<li>What did you get right immediately?</li>
<li>What was difficult?</li>
<li>Were there misunderstandings?</li>
</ul></li>
</ul>

<div class="delivery"><p>Store your document from above in the Teams folder for this unit. Use filname <code>ttm4115-2020-bus-stop-team-XX.docx</code></p>
</div>
    </section>
    <section class="content">
<h1 id="kitchen-timer">Kitchen Timer</h1>
<p>You should build the state machine for the following device:</p>

<div class="figure">
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/Gnjg16f6DhY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
</div>
<p>It’s a kitchen timer. It has 4 LEDs and a button. When the button is pressed, the first LED is switched on, and the plug provides electricity, for instance for a coffee machine. After 15 minutes, the LED is switched off and the plug is turned off. Whenever the button is pressed when an LED is already on, the next LED is switched on and time timer is set to 30, 45, or 60 minutes, respectively. If all LEDs are on, and the button is pressed, all LEDs and the plug are switched off.</p>
<p>You can ignore that the LED of the segment that is currently active is blinking, just assume it lights all the time.</p>
<p>Use the following actions:</p>
<ul>
<li><code>start_timer('t',... )</code> This starts a timer with name <code>t</code>. The second argument is the time, given as seconds. If a timer is already active, the timer is simply restarted with the new, updated timeout.</li>
<li><code>stop_timer('t')</code>. Stops a timer. If no such timer exists or has already timed out, nothing happens.</li>
<li><code>set_leds(1, 0, 0, 0)</code>. Control all of the four LEDs at the same time. <code>1</code> means on, <code>0</code> means off. Here, the first LED is switched on, the others are off.</li>
<li><code>set_power(True)</code> switches the power on (True) or off (False)</li>
</ul>
<p>You can assume that whenever the button is pressed, the state machine will receive a signal with the name <code>switch</code>.</p>
<h2 id="create-a-state-machine-individually">Create a State Machine, Individually</h2>

<ul>
<li>Use some time to find a first solution each one on your own.</li>
<li>Use pencil and paper.</li>
</ul>

<h2 id="create-a-state-machine-together">Create a State Machine, Together</h2>
<ul>
<li>Compare your solutions, one at a time.</li>
<li>Starting again with an empty screen, whiteboard or paper, design the state machine once again, together.</li>
<li>Play through this simple scenario, and correct your state machine if necessary.</li>
</ul>

<h2 id="solution">Solution</h2>
<ul>
<li>Once you are happy with your solution, have a look at <a href="files/kitchen-timer.pdf">my solution</a>.</li>
<li>Compare the solutions in detail.</li>
<li>If you find that my solution has any flaws, please discuss on MS Teams!</li>
<li>Prepare a document where you show your solution and mine side-by-side, and compare.</li>
<li>Reflect about your process towards this machine.
<ul>
<li>What did you get right immediately?</li>
<li>What was difficult?</li>
<li>Were there misunderstandings?</li>
</ul></li>
</ul>

<div class="delivery"><p>Store your document from above in the Teams folder for this unit. Use filename <code>ttm4115-2020-kitchen-timer-team-XX.docx</code>.</p>
</div>
    </section>
    <section class="content">
<h1 id="team-reflection-for-this-unit">Team Reflection for This Unit</h1>
<ul>
<li>Add another section to the team reflection document, just like last week.</li>
<li>How did the roles work today?</li>
</ul>

    </section>
    <section class="content">
<h1 id="individual-reflection">Individual Reflection</h1>
<ul>
<li>Fill out the <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=cgahCS-CZ0SluluzdZZ8BSxiepoCd7lKk70IThBWqdJUQUQxNEVLOTBZMDZGNkJBM1Y2NjZCTzhWSi4u" class="arrow">individual reflection survey</a>.</li>
<li>Copy the answers into a document that you maintain on your own.</li>
<li>Add any additional observations to your reflection diary.</li>
</ul>

    </section>
</div>


<footer></footer>
<script>
  anchors.options.visible = 'touch';
  anchors.add("h1, h2, h3");
</script>
</body>
</html>