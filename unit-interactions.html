<html lang="en-US"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>TTM4115</title>
<meta property="og:title" content="TTM4115">
<meta property="og:locale" content="en_US">
<meta name="description" content="Design of Communicating Systems">
<meta property="og:description" content="Design of Communicating Systems">


<!--<link rel="stylesheet" type="text/css" href="style.css" />-->
<link href="https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Source+Code+Pro|Source+Sans+Pro:200,300,400,600,400italic,600italic|Rock+Salt" rel="stylesheet" type="text/css">


<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">

<link rel="stylesheet" type="text/css" href="assets/style.css" />

<!--<script src="jquery-1.10.1.min.js"></script>-->
<script src="assets/script-aside.js"></script>
</head>
<body id="top">

<nav class="navbar navbar-expand-md navbar-dark " style="background-color:#666666"#2B65EC"> <!-- fixed-top -->
        <ul class="nav nav-pills">
        <li class="nav-item">
    <a class="nav-link" href="index.html" style="font-weight: bold")>TTM4115</a>
  </li>
        
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Preparation</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="prep-setup.html">Team Setup</a>
      <a class="dropdown-item" href="prep-modeling.html">Modeling and Deployment</a>
      <a class="dropdown-item" href="prep-requirements.html">Requirements and Design Thinking</a>
      <a class="dropdown-item" href="prep-use-cases.html">Use Cases</a>
      <a class="dropdown-item" href="prep-statemachines.html">State Machines</a>
      <a class="dropdown-item" href="prep-stmpy.html">State Machines in Python</a>
      <a class="dropdown-item" href="prep-interactions.html">Interactions</a>
      <a class="dropdown-item" href="prep-communication.html">Communication</a>
      <a class="dropdown-item" href="prep-components.html">Components</a>
      <a class="dropdown-item" href="prep-agile.html">Agile Development</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Activities</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="unit-setup.html">Team Setup</a>
      <a class="dropdown-item" href="unit-modeling.html">Modeling and Deployment</a>
      <a class="dropdown-item" href="unit-requirements.html">Requirements</a>
      <a class="dropdown-item" href="unit-use-cases.html">Use Cases</a>
      <a class="dropdown-item" href="unit-statemachines.html">State Machines</a>
      <a class="dropdown-item" href="unit-stmpy.html">State Machines in Python</a>
      <a class="dropdown-item" href="unit-interactions.html">Interactions</a>
      <a class="dropdown-item" href="unit-communication.html">Communication</a>
      <a class="dropdown-item" href="unit-components.html">Components</a>
      <a class="dropdown-item" href="unit-agile.html">Agile Developments</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Deliveries</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="project.html">Project</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries.html">Overview</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t1.html"><span class="badge badge-danger">T1</span> Requirements</a>
      <a class="dropdown-item" href="deliveries-i1.html"><span class="badge badge-primary">I1</span> Feedback on T1</a>
      <a class="dropdown-item" href="deliveries-t2.html"><span class="badge badge-danger">T2</span> Specification and Design</a>
      <a class="dropdown-item" href="deliveries-i2.html"><span class="badge badge-primary">I2</span> Feedback on T2</a>
      <a class="dropdown-item" href="deliveries-t3.html"><span class="badge badge-danger">T3</span> Final System and Video</a>
      <a class="dropdown-item" href="deliveries-i3.html"><span class="badge badge-primary">I3</span> Individual Reflection</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Tools</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="tools.html">Tools</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="tools-python.html">Python</a>
      <a class="dropdown-item" href="tools-notebooks.html">Python Notebooks</a>
      <a class="dropdown-item" href="tools-mqtt.html">MQTT</a>
      <a class="dropdown-item" href="tools-stmpy.html">STMPY</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Learning</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="learning-goals.html">Learning Goals</a>
      <a class="dropdown-item" href="learning-tbl.html">Team-Based Learning</a>
      <a class="dropdown-item" href="learning-teamwork.html">Teamwork Procedures</a>
      <a class="dropdown-item" href="feedback.html">Feedback</a>
      <a class="dropdown-item" href="learning-grading.html">Grading</a>
      <a class="dropdown-item" href="learning-expectations.html">Expectations</a>
    </div>
  </li>
  <!--
  <li class="nav-item">
    <a class="nav-link" href="#">Blackboard</a>
  </li>-->
</ul>

<div class="navbar-nav flex-row ml-md-auto d-none d-md-flex"></div>
             <a class="navbar-brand" href="https://ntnu.edu">
      	<svg width="100" height="30">
      		<image xlink:href="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.svg" 
      		src="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.png" width="100%" height="100%"></image>
      	</svg>
      </a>
    </nav>


<div class="page">
    <section class="content">

    </section>
    <section class="content">
<h1 id="airport-gate-control-system">Airport Gate Control System</h1>
<p>You should design the controller that resides within an airport gate turnstile. A communication diagram for the logic is shown below.</p>
<p><img src="https://www.iik.ntnu.no/ttm4115/wp-content/uploads/2018/02/airport.jpg" alt="" width="958" height="524" class="alignnone size-full wp-image-446" /></p>
<ul>
<li>The controller is connected to the turnstile, the LEDs, a display, the scanner and a backend server. All units communicate with the signals listed at the respective links.</li>
<li>The turnstile is locked by default. This means that its arms cannot move. With the signal unlock the turnstile gets unlocked, so that a person can turn it and pass through. When a person passes through, the turnstile is turned once. As a confirmation that the person went through, the turnstile sends the signal passed back to the controller. Once turned, the turnstile will lock automatically again. In case no person passed through and the controller needs to lock the turnstile again, it can send the signal lock.</li>
<li>The backend can decide if a boarding pass is valid or not. If it is valid, the turnstile gets unlocked, the green LED lights up and the passenger passes. A passing passenger is reported to the backend. If the boarding pass is not valid, the red LEDs light, and the turnstile stays locked. A message is shown to the display.</li>
<li>The display shows the message âScan your boarding passâ by default. When the passenger may pass, the display shows âWelcome aboardâ. If passing is denied, the display shows an error message âPlease contact the counter for helpâ.</li>
<li>The scanner detects boarding passes automatically and reads the data. It only uses one message request towards the controller once it detects a boarding pass.</li>
<li>If the passenger does not pass the turnstile, the passenger is not reported as boarded to the backend. *The turnstile is unlocked for 3 seconds. If the passenger does not react within that time and pass through the turnstile, it is locked again.</li>
</ul>
<h2 id="task-1">Task 1</h2>
<p>Create a sequence diagram that shows the interaction between the controller and the turnstile. The task is to capture all relevant cases as described above in a single sequence diagram. Use corresponding constructs.</p>
<p><strong>Hint:</strong> Place the controller to the left, the turnstile to the right.</p>
<h2 id="task-2">Task 2</h2>
<p>Design three sequence diagrams that include all components. The first diagram should illustrate a successful boarding process. The second a passenger with a valid boarding card that does not pass the turnstile. The third sequence diagram should show a passenger with an invalid boarding card.</p>
<p><strong>Hint:</strong> Sort the lifelines of the sequence diagrams in the order scanner - controller - backend - turnstile - led - display.</p>
<h2 id="task-3">Task 3</h2>
<p>Your sequence diagrams contain a situation that we called mixed initiative. Explain the situation. Do you as a designer of the state machine need to make any decision? (Add a comment to the diagram with a brief text.)</p>

    </section>
    <section class="content">
<h1 id="startup-routine">Startup Routine</h1>
<ul>
<li>Assign the team roles for today</li>
<li>Revisit the team reflection document from last time, and see if there are relevant follow-ups for today.</li>
<li>Try to outline an agenda for the week, and get familiar with the organization of the team activity and its delivery.</li>
</ul>

    </section>
    <section class="content">
<h1 id="recycling-park">Recycling Park</h1>
<p><img src="https://www.iik.ntnu.no/ttm4115/wp-content/uploads/2018/02/photo.jpg" alt="" width="800" height="449" class="alignnone size-full wp-image-440" /></p>
<p>A recycling park is an area where people can deliver all sorts of special waste, like wood, scrap (old metall), gardening waste, electric devices, batteries and general waste. Some waste is free to deliver, and some waste is subject to a charge. The recycling park is therefore split in two areas: The first area has parking spaces where people can park their car and get rid of the free waste types. The second area is for the paid waste.</p>
<p><img src="https://www.iik.ntnu.no/ttm4115/wp-content/uploads/2018/02/kart_heggstadmoen_ny-1024x883.jpg" alt="" width="750" height="647" class="alignnone size-large wp-image-442" /></p>
<h2 id="technical-installation">Technical Installation</h2>
<p>The area for the payed waste has a gate at its entrance and a gate at its exit. The gate has lights (red or green) and an arm that can open to let a car drive through. The gates are combined with big weight scales integrated into the road where an entire car can drive on. With them, the weight car can be measured before and after. At the entry and exit, customers swipe their credit card. Note that they swipe it also at the entry, and the credit card number is used to identify a customer on their way out, so that entry and exit weight of the same customer can be compared.</p>

<h2 id="goals-and-functions">Goals and Functions</h2>
<p>The system must serve two main goals:</p>
<ol type="1">
<li>The number of cars within the payed area is limited to 30 cars at a time.</li>
<li>Cars are registered with their weight at the entrance and exit, and customers are billed for the waste according to the difference of their car’s weight.</li>
</ol>
<p>Other functions of the system can be to record detailed statistics about the number of cars each day, and figure out the most busy visiting times. But these functions are not relevant now.</p>

<h2 id="communication-and-deployment">Communication and Deployment</h2>
<p>It’s a modern installation. All units (lights, weights, gates, card readers) are connected to an IP-based communication bus (Wi-Fi or Ethernet). There is a central computer in the recycling park that runs the application to connect the system. It can send and receive messages with the different units.</p>

<h2 id="signals">Signals</h2>
<p>Let’s have a closer look at the signals that all the deployed units can send. The suffix <code>_x</code> behind the signal names can be replaced with (<code>_1</code>) or (<code>_2</code>), to address the units at the entry (<code>_1</code>) or the exit (<code>_2</code>). We do not show the format of any values that the messages may carry (like image format or weight or payment unit), you may ignore these details.</p>
<p>The <strong>gate</strong> simply opens for a while so that a car can pass through when it receives the signal <code>OPEN_x</code>.</p>
<p>The <strong>lights</strong> are either red or green. Green means that the customer can drive in, red means that they have to wait, either for weighing the car, processing the payment or because too many cars are already in the area. The light can be controlled with the signals <code>RED_x</code> and <code>GREEN_x</code>.</p>
<p>The <strong>weight</strong> is place before the gate. To make a reading, the signal <code>GET_WEIGHT_x</code> can be sent to the weight. It then answers with the signal <code>WEIGHT_x</code>. (This signal includes the weight as a value.)</p>
<p>The <strong>card reader at the entry</strong> registers a credit card at the entry. Once a customer arrives, they swipe their card. Signal <code>CARD_x</code> is sent, and it includes the card number.</p>
<p>The <strong>card reader at the exit</strong> register a credit card once a customer wants to exit. They swipe their card, and the card reader sends signal <code>CARD_x</code>.</p>
<p>The <strong>payment service</strong> is an online web service. For simplicity we assume it is also reachable via signals. Assume it accepts signals <code>PAY</code> when a payment should be made, and it answers with signal <code>PAY_OK</code>.</p>
<p>We assume in the following that all payments are okay, both weights work perfectly, and all customers behave nicely. We also assume that customers do not mix up their cards, i.e., only card that have been swiped at the entry are used at the exit.</p>

<h2 id="task-car-entry">Task: Car Entry</h2>
<p>Develop the sequence diagram <strong>Car Entry</strong> that shows how a car enters the payed area. Assume that no signals are lost and all components are working well.</p>
<p>Cover the following lifelines:</p>
<ul>
<li><code>gate_1: Gate</code></li>
<li><code>lights_1: Lights</code></li>
<li><code>card_1: Card Reader</code></li>
<li><code>w_1: Weight</code></li>
<li><code>c: Computer</code></li>
</ul>

<h2 id="task-car-exit">Task: Car Exit</h2>
<p>Develop the sequence diagram <strong>Car Exit</strong> that show hows a car exits the payed area. Assume that no signals are lost and all components are working well.</p>
<p>Cover the following lifelines:</p>
<ul>
<li><code>c: Computer</code></li>
<li><code>p: Payment</code></li>
<li><code>gate_2: Gate</code></li>
<li><code>lights_2: Lights</code></li>
<li><code>card_2: Card Reader</code></li>
<li><code>w_2: Weight</code></li>
</ul>
<h2 id="task-complete-single-visit">Task: Complete Single Visit</h2>
<p>Using the two existing diagrams, develop one that specifies the complete visit of a single car. Use the following ordering of lifelines:</p>
<ul>
<li><code>gate_1: Gate</code></li>
<li><code>lights_1: Lights</code></li>
<li><code>card_1: Card Reader</code></li>
<li><code>w_1: Weight</code></li>
<li><code>c: Computer</code></li>
<li><code>p: Payment</code></li>
<li><code>gate_2: Gate</code></li>
<li><code>lights_2: Lights</code></li>
<li><code>card_2: Card Reader</code></li>
<li><code>w_2: Weight</code></li>
</ul>

<h2 id="task-robust-car-entry">Task: Robust Car Entry</h2>
<p>Create a new sequence diagram <strong>Robust Car Entry</strong> that is an improved version of the original diagram. Assume now that pretty much everything can fail:</p>
<ul>
<li>components can break down</li>
<li>operations in the components can fail</li>
<li>signals may be lost</li>
</ul>
<p>Look first at the original diagram and think about how the behavior can be improved so that the system handles errors “a little bit better.” (What that means in detail is up to your interpretation.) You may for instance introduce additional signals and timers. Show timers as messages sent from a lifeline back to itself. <strong>Briefly document your reasoning as comments in the diagram.</strong></p>

    </section>
    <section class="content">
<h1 id="todays-delivery">Today’s Delivery</h1>
<ul>
<li>Create a single PDF with all diagrams from today.</li>
<li>Filename must be <code>ttm4115-2019-TA-interactions-TXX.pdf</code>, where <code>XX</code> refers to your team number.</li>
<li>Complete the Team Reflection, and copy the content into your <a href="team-reflection.html">Team Reflection Document</a></li>
<li>Clean up the working area.</li>
</ul>

    </section>
</div>


<footer></footer>
</body>
</html>