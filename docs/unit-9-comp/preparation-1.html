<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="generator" content="">
  <title>TTM4115</title>
  <link rel="canonical" href="https://edu.iik.ntnu.no">
  <!-- Bootstrap core CSS -->
    <link href="../assets/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="../assets/style-frame.css" rel="stylesheet">
    <link href="../assets/style-fonts.css" rel="stylesheet">
    <link href="../assets/style-code.css" rel="stylesheet">
    <link rel="stylesheet" href="../assets/bootstrap-icons.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
      crossorigin="anonymous"></script>
    <script src="../assets/anchor.js"></script>
    <script src="../assets/clipboard.min.js"></script>
    <script src="../assets/script-aside.js"></script>
    <style>/* === figure === */
div.figure {
  padding: 20px 0 20px 0;
  width: 100%;
}

div.figurefullwitdth {
  padding: 20px 0 20px 0;
  margin-left: -33px;
  margin-right: -33px;
  width: 100%;
}

figcaption {
  color: #868279;
}

</style>
  </head>
  
  <body>

  
  



<nav class="navbar navbar-expand-lg navbar shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand" href="https://ntnu.edu" title="NTNU Homepage">
      <img id="header_logo" alt="NTNU Hjemmeside" width="120px" src="https://www.ntnu.no/o/ntnu-theme/images/logo_ntnu.svg" height="23px">
    </a>
    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
      <ul class="navbar-nav">
        <li class="nav-item">
          <a class="nav-link" href="../index.html">TTM4115</a>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Units
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../unit-1-setup/index.html">Unit 1: Introduction and Setup</a>
            <a class="dropdown-item" href="../unit-2-models/index.html">Unit 2: Modeling and Deployment Diagrams</a>
            <a class="dropdown-item" href="../unit-3-stm/index.html">Unit 3: State Machines</a>
            <a class="dropdown-item" href="../unit-4-req/index.html">Unit 4: User Requirements</a>
            <a class="dropdown-item" href="../unit-5-stmpy/index.html">Unit 5: State Machines in Python</a>
            <a class="dropdown-item" href="../unit-6-agile/index.html">Unit 6: Agile Development</a>
            <a class="dropdown-item" href="../unit-7-comm/index.html">Unit 7: Communication</a>
            <a class="dropdown-item" href="../unit-8-sd/index.html">Unit 8: Interactions</a>
            <a class="dropdown-item" href="../unit-9-comp/index.html">Unit 9: Components</a>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Project
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../project/index.html">Semester Project</a>
            <a class="dropdown-item" href="../project/deliveries-t1.html">Specification 1</a>
            <a class="dropdown-item" href="../project/deliveries-i1.html">Feedback on Specification 1</a>
            <a class="dropdown-item" href="../project/deliveries-t2.html">Specification 2</a>
            <a class="dropdown-item" href="../project/deliveries-i2.html">Feedback on Specification 2</a>
            <a class="dropdown-item" href="../project/deliveries-t3.html">Specification 3 (Final)</a>
            <a class="dropdown-item" href="../project/deliveries-i3.html">Individual Reflective Essay</a>
            
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Learning
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../learning/feedback.html">Teachers and Feedback</a>
            <a class="dropdown-item" href="../learning/goals.html">Learning Goals</a>
            <a class="dropdown-item" href="../learning/grading.html">Grading</a>
            <a class="dropdown-item" href="../learning/reflection.html">Reflection</a>
            <a class="dropdown-item" href="../learning/tbl.html">Team-Based Learning</a>
            <a class="dropdown-item" href="../learning/teamwork.html">Teamwork</a>
            <a class="dropdown-item" href="../schedule.html">Schedule</a>
            <a class="dropdown-item" href="../learning/remote.html">For Remote Teams</a>
          </ul>
        </li>
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
            Tools
          </a>
          <ul class="dropdown-menu dropdown-menu">
            <a class="dropdown-item" href="../tools/index.html">Tools</a>
            <!--<a class="dropdown-item" href="../tools/tools-python.html">Python</a>-->
            <a class="dropdown-item" href="../tools/tools-gui.html">GUIs in Python</a>    
            <a class="dropdown-item" href="../tools/tools-mqtt.html">MQTT</a>            
            <a class="dropdown-item" href="../tools/tools-notebooks.html">Notebooks</a>
            <a class="dropdown-item" href="../tools/tools-stmpy.html">STMPY</a>            
          </ul>
        </li>
      </ul>
      <div class="bg-light border ms-auto"></div>
        <div>
        <a class="nav-link" href="../schedule.html"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-calendar3" viewBox="0 0 16 16">
          <path d="M14 0H2a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2zM1 3.857C1 3.384 1.448 3 2 3h12c.552 0 1 .384 1 .857v10.286c0 .473-.448.857-1 .857H2c-.552 0-1-.384-1-.857V3.857z"/>
          <path d="M6.5 7a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm-9 3a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2zm3 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"/>
        </svg></a>
      </div>
    </div>
  </div>
</nav>



  <main class="container container-max-width">
    <nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='%236c757d'/%3E%3C/svg%3E&#34;);" aria-label="breadcrumb">
<ol class="breadcrumb">
<li class="breadcrumb-item"><a href="../index.html">TTM4115</a></li>
<li class="breadcrumb-item"><a href="index.html">Unit 9: Components</a></li>
<li class="breadcrumb-item active" aria-current="page">Components</li>
</ol>
</nav>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>Components</h1>
<h2>What are Components?</h2>
<p>Surprisingly, there is not a single definition for the concept of components. Martin Fowler calls the term on its own as &quot;semantic free&quot;, allowing all types of interpretation, and a book on components offer various definitions, but is also open about that there is not a fixed definition that satisfies everyone.</p>
<p>For the following, you can just think of components as pieces of software that can be combined together (&quot;composed&quot;) to create the entire software of our system.</p>
<p>To give you a more specific idea, you can think in our case of components as a set of classes or code libraries with a set of interfaces so that they can communicate with other components. Some of the code may realize STMPY state machines, and other code may do other stuff.</p>
<p>Components clearly focus on the <strong>implementation</strong> of the system. Hence they serve often several use cases, and one use case requires usually the effort of several components. That means, while we struggled with the use cases to structure the system according to the user's perspective and the requirements, the components structure the implementation of it.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h2>Why Do We Need Components?</h2>
<p>So far in the course, we have considered small examples and  focused on single state machines that controlled some behavior, like the Headlamp, the Car Lock Controller and the Airport Gate Controller. For a realistic system, we cannot just deploy a single state machine, or a single file with some code. Here are just a few reasons that you may instantly agree with:</p>
<ul>
<li>Since most systems are distributed, we need to create different parts of the software for the different locations that can be deployed and started on their own.</li>
<li>It is also likely that we want to use some existing code or even larger parts of the system that we get from elsewhere. This again makes it necessary to split the implementation into parts.</li>
</ul>
<p>But even if we wrote all our code ourselves and new for each new system (good luck with that), and even if the system wouldn't be distributed, we need to decompose the system implementation into smaller parts to keep it manageable at all. Hence, it is not a question <em>if</em> we should partition our system into parts, but rather <em>how</em>.</p>
<h2>Components and Classes Are Not the Same</h2>
<p>Maybe you think <em>&quot;Isn't this what objects and classes are for?&quot;</em> But that doesn't quite fit. Individual objects are not deployed in a system, they are often too fine-grained.</p>
<p>You may well think of components as &quot;objects&quot; in terms of &quot;things&quot;. And internally, when using an object-oriented language, they are  built from classes and objects. (They may even extend a class <em>Component</em> provided by some component framework.) So if you want to think in object-oriented terms, think of a component as a set of classes and objects assembled into something bigger, with some extra properties that we look at in the following.</p>
<h2>Component-Based Software Engineering</h2>
<p>Working with components is not just about the components and how they are constructed and what they contain.
To create components also means to partition the entire system into components. This requires good overview of the system, and may result in hard choices about its architecture, and has a huge impact on the entire development project. Developing components is therefore much more strategic than just developing components, and the basis of a approach in software engineering called <a href="https://en.wikipedia.org/wiki/Component-based_software_engineering">component-based software engineering</a>. (You should have a look at the article to get an idea about the complexities of this subject.)</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
</section>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>Example: Airgate</h1>
<p>Imagine we are the producer of airport gates, Airgate, like the ones we treated in the last unit. The airport gate consists of the hardware, that means, the turnstile, the display, the scanner and so on, and, of course, also the software. The software runs in the gate in an embedded computer, and connects all the hardware components together and integrates with the IT infrastructure of the airport, since we need to evaluate the validity of a boarding pass and register if a passenger boarded.</p>
<p>The software part of the airport gate makes up a large part of the system. Much of the system quality and hence value will depend on it working well, and we need to spend quite some effort to develop it.</p>
<p>Even though the functionality of the gateway seems simple, it has to take care of a long list of detailed requirements. Apart from the basic functionality that we already know, the gate has to log every passenger, allow for manual boarding, or take account for the central system being unreachable. Airgate is also selling many different configurations of airport gate.</p>
<ul>
<li>Different airports have different IT backends, and the system needs to integrate with each of them.</li>
<li>Gates can have a different number of turnstiles and displays.</li>
<li>There are different types of turnstiles, with slightly different logic that has been developed over time, since the mechanics change with improvements and local changes to the different airports.</li>
</ul>
<p>Airgate does not only need a single software program that is the same on all their installations. Instead, almost all software installations are a bit different. How should this software be structured?</p>
<ul>
<li>A single program, a single file with instructions is a bad idea, simply because it is too complex. The different variants make it even more complex. I guess you agree this is not a good idea.</li>
<li>Decomposing the software into different objects and classes is already better, but different objects here are too fine-grained. It would be very complicated to select the right ones for the right installation.</li>
</ul>
<p>Instead, we decompose the software into a <strong>set of components</strong>, which itself contain classes, and code from different libraries.   The components vary in size; some contain only little code or a few state machines, other may include larger code libraries and more logic. Deciding exactly how to structure the system into components is difficult and requires some experience, and we need to consider a lot of criteria that we will look at closer below.</p>
<h2>Component-based Software for AIRGATE.</h2>
<p>To let you better understand, we show a diagram with components for the Airgate System below. We will later use these as examples.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><figure class="figure">
    <img src="figures/airgate-components.png" class="figure-img img-fluid rounded" alt="A possible component-based structure for the Airgate system.">
</figure></div><aside class="col-md-4 chunk ps-2"><figcaption class="figure-caption">A possible component-based structure for the Airgate system.</figcaption></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><ul>
<li><strong>Gate Controller</strong> contains the main logic of the gate that ties together all hardware elements and the connection to the back end.</li>
<li><strong>Airport Interface</strong> contains the code necessary to adapt the Airgate System to different back-end systems, which makes it possible to use the Airgate System at different airports.</li>
<li><strong>Turnstile</strong>, <strong>Display</strong> and <strong>Scanner</strong> encapsulate all logic that is needed to adapt to the various versions of hardware Airgate has sold over time.</li>
</ul>
<p>At the bottom of the diagram you see six more components, each providing more generic functionality. Most of them are from open source projects (such as Apache), because they are also used in many other systems.</p>
<ul>
<li><strong>Logging</strong> provides a logging framework so that all events happening are logged into files or a data base.</li>
<li><strong>Data Base</strong> provides a database to store passengers passing for some time, in case the back-end system does not work.</li>
<li><strong>Configuration Manager</strong> is responsible for installing the proper component versions based on a configuration file and the specific hardware versions it detects.</li>
<li><strong>Remote Management</strong> offers a user interface so that operators can log into the software remotely and run diagnosis tests or change the configuration.</li>
<li><strong>Web Server</strong> contains a library to run a web server that is used by the remote management.</li>
</ul>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
</section>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>Modularity, Cohesion and Coupling</h1>
<p>The main goal of introducing the system is to introduce <strong>modularity</strong>. With modularity we understand the degree to which components can be separated from each other and combined. High modularity means we can separate components easier from each other and combine them in different ways, resulting in higher flexibility and variety.</p>
<p>Looking at the components from Airgate, we can say that they have good modularity: A new version of the scanner can most likely be introduced by just adding a new version of the scanner module, and adding an additional module for a specific customer with some extra functionality also seems possible. Operations like these are much easier when we have good modularity, or can be a nightmare if we don't.</p>
<p>Good modularity can also be explained by a <strong>high cohesion</strong> of modules and <strong>low coupling</strong> between them:</p>
<ul>
<li><strong>Cohesion</strong> means the degree of how much the functions of a component belong together. A component with high cohesion focuses on only a few things it does, while a component with little cohesion does a lot of different things.</li>
<li><strong>Coupling</strong> means the relation between several components. Ideally, this should be low, meaning that there is relatively little communication or dependencies between them. When there is a high coupling between two components, one should consider if it were easier to merge these two components into a single one.</li>
</ul>
<p>You see that cohesion and coupling can be in conflict with each other: When we distribute some tasks between several components, we could end up with a high coupling between them, but highly cohesive components. When we, on the other side, combine these components into a single one, we could end up with a component that is not very cohesive because it does all kinds of things.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
</section>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>The Different Aspects of Modularity</h1>
<p>Let's have a look in the following at the different aspects we have to think of when separating a system into components.</p>
<h3>Units of Abstraction</h3>
<p>Components offer a unit of abstraction, that means to structure the system and group different functions together. Ideally, when changing a detailed requirement, we only need to change a single component. Note that the last sentence start with the word <em>ideally</em>. While this is really the goal of good modularity, it's impossible to have such a good component structure that obeys this property for any kind of requirement changes.</p>
<p>But you can imagine that by structuring functions into suitable components, it is easier to understand the system, find the most likely point where changes are necessary or where errors may have their origin. It's a bit like sorting your hiking equipment into different boxes. It is probably not possible to pack your stuff for different journeys just by selecting a subset of boxes, but you have gained a lot of order once at least all the cooking stuff is in a box separate from the skiing equipment.</p>
<h3>Units of Locality</h3>
<p>Usually, a single component is located within a single computer that means, at a single location. It would be technically possible to run code belonging to the same component on distributed computers connected by a network, but this often requires more communication between these parts and makes the system more fragile. Instead, components should be physically concentrated.</p>
<h3>Units of Delivery</h3>
<p>Components can be a unit of delivery, that means, a company could outsource the programming for a specific component, or give separate components to separate departments or programmers. Likewise, in the semester project, you can give different team members to give the task for focus on the implementation of different components.</p>
<p>Single classes are often too small to be individual delivery items that are not worth the effort of ordering somewhere else, and often even classes cannot be developed by themselves because they are so closely coupled with other classes.</p>
<p>Components, instead, offer a unit that can be more suitable to deliver separately. For that, its interfaces and functionality must be described as precisely as possible for each component.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h3>Units of Compilation, Deployment and Installation</h3>
<p>New versions of components are often developed independently of each other, and therefore they are also separate units of compilation, that means, the process that generates some form of machine code from the source code and packages all files.</p>
<p>In OSGi for instance, all Java classes belonging to a single OSGi bundle are compiled and then placed together into a zip file which is then ready for deployment.</p>
<p>Deployment means that a component is made available on a platform, and maybe adjusted for specific settings. It is also analyzed if it has dependencies to other components that are required as well. The subsequent installation makes the deployed component available on a computer, and checks its integrity, for instance. (The detailed process depends on which kind of component framework we use.)</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h3>Units of Analysis and Understanding</h3>
<p>Components also help to structure the system into parts that can be understood and analyzed separately from each other. Imagine for instance that you should create a new component for the turnstile, since there is a new one with slightly changed mechanics. You can have a look at the old component, see how it communicates with the other components (here probably most with the gate controller) and then develop a new version. Maybe you have to peek sometimes into some of the other components to find out a detail that is not documented as part of their interfaces, but having to focus on the turnstile component helps your work a lot.</p>
<p>Some requirements may also be so important that they require a deeper analysis to check that they really hold. An example would be the following requirement:</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><blockquote>
<p>Only a passenger with a validated boarding pass may enter the aircraft.</p>
</blockquote>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><p>This is kind of obvious, but where should we check if this requirement is fulfilled? We must analyze if it could open the turnstile even if it did not get an okay from the airport back end. This does not mean that we only need to analyze the gate controller, but this is where we can start and get an overview and then systematically check which other components are relevant for this requirement.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h3>Units of Fault Containment</h3>
<p>It's unrealistic to assume that software contains no errors. Sometimes errors do not show up even during extensive testing, but may be a combination of factors that only happen at runtime in a specific deployment. It's therefore good to have mechanisms  in place that handle errors and can help to contain them, so that the effects for the system are less severe. Components represent such a possible containment border for errors. Internally, they must still be developed in a fault-tolerant way.</p>
<p>For instance, there could be an error in the Airgate system that  leads to log files not being deleted as they should. Maybe the reason for this is even outside of the logging component, maybe because of some error in the configuration file for the file system or so. You see that it would be beneficial that the system could still operate and board passengers. This is possible if the error is contained within the logging component.   For instance, the logging component detects the error when trying to write the file, warns the management system about errors, but does not cause the calling component (for instance the gate controller) to fail itself. Via the remote management, this error could even be temporarily mitigated by reconfiguring the logging component. If the whole system would be a single program, this would be more difficult.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h3>Units of Testing</h3>
<p>Testing is a comprehensive task, and tests need to be created at all levels of the system, and from many different views. For instance, there are tests for individual functions, and tests for entire use cases that span over several components. But components are a suitable scope to define test cases, too.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h3>Units of Maintenance</h3>
<p>Similar to components being developed independently, they can also be maintained one-by-one, that means, be the scope of improvements.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h3>Units of System Management</h3>
<p>Depending on the capabilities of the specific component framework that is used, components be a scope of system management. One could for instance see that one component should be replicated on several servers to do load balancing, or that some components should be moved to other machines.</p>
<h3>Units of Reuse</h3>
<p>All the aspects above make components also good candidates for being reused, that means, across several, possibly very different systems. The logging component, for instance, is so general that it can be reused probably in any system, while the Gate controller is probably not suitable for reuse, and certainly not outside of the Airgate product range.</p>
<p>In some situations, it may be smart to build a component with reuse in mind. However, this can also be dangerous, since it makes the initial development more expensive and shifts focus away on the specific system to build. There is always some uncertainty about if reuse will really happen, so there may be some overhead that in the end does not pay off. Therefore, be skeptical about the reuse argument in the first place.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
</section>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>Communication Between Components</h1>
<p>Components can communicate with each other by various means.</p>
<ul>
<li>When components are written in the same programming language and execute on the same computer, they can communicate directly via method calls and passing data or objects between them, like different classes within the same program can communicate.</li>
<li>Communication can also happen by a local message queue. This means that a component can send a message to another component. This allows for a more decoupled communication, i.e., the sender does not wait for the receiver and the message queue in between takes care of the delivery.</li>
<li>Components may also use other means of communication, like an enterprise messaging system that also communicates between different locations.</li>
</ul>
<p>This list of possibilities is not complete, and should just give you a glimpse of the vast number of possibilities there are.</p>
<p>In the Airgate system, for example, the Gate Controller uses a local messaging system to send and receive messages between Turnstile, Display and Scanner. (These correspond to commands like <code>unlock</code>, <code>lock</code>, etc.)</p>
<p>The remote management components use the web server functionality heavily and on a very fine-grained level, and therefore directly communicates via objects and method calls.</p>
<p>The airport interface uses an extra communication component that connects to the airport system. This communication component is responsible for serializing data into messages that are then transported via HTTPS and a more comprehensive infrastructure.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
</section>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>Components, Interfaces and Services</h1>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><p>We have introduced above the idea that there can be different components for different variants of, for instance, the turnstile hardware. One cold be a turnstile that has a wheel, the other variant could be one with a little door. Imagine further that this has influence on the component directly interacting with the turnstile. We hence have two components managing the different variants of the turnstile; one for the turnstile with a wheel, one for the turnstile with doors. Their internal differences could be significant. The manufacturers of the turnstiles could use different wiring and communication buses. The turnstiles could also require different signals and different timing of them. That means, the state machines probably used inside the turnstile components could be very different.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><p>For the logic inside the gate controller, i.e., the component coordinating the turnstiles, scanners, displays with the airport back end, these differences should ideally have no influence. It just requires that the turnstile can be locked or unlocked, and that it gives information if a passenger passed or not. With other words, it wants to know less about the details and just work with a more abstract form of the turnstile.</p>
<h2>Interfaces</h2>
<p>To make this work, both turnstile components should implement the same <strong>interface</strong>. The gate controller component can then use this interface to control the turnstile, without knowing which specific variant of implementation is hidden behind it. Depending on the technologies used, the interfaces can be defined in different languages, covering different details.</p>
<ul>
<li>Interfaces could identify method signatures, like in Java, to describe which methods the gate controller can invoke on the turnstile components.</li>
<li>Interfaces could also identify messages passed back and forth between gate controller and turnstile, like <code>lock</code>, <code>unlock</code>, <code>passed</code>.</li>
</ul>
<p>In UML, interfaces can be visualized with the symbols below; one indicates a required interface, the other one a provided interface.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><figure class="figure">
    <img src="figures/airgate-services.png" class="figure-img img-fluid rounded" alt="The two turnstile components both define the same interface.">
</figure></div><aside class="col-md-4 chunk ps-2"><figcaption class="figure-caption">The two turnstile components both define the same interface.</figcaption></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h2>From Interfaces to Services</h2>
<p>The interfaces describe how to use a specific functionality of a component. And indeed, in object-oriented programming, we can use these interfaces to plug together system parts. To make this also work in a component-based setting and in a dynamic way, we introduce the concept of a <strong>service</strong>. Have a look at the three-step interaction below:</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><figure class="figure">
    <img src="figures/airgate-discovery.png" class="figure-img img-fluid rounded" alt="The interactions going on between the components to provide and use the right component for the turnstile, using the concept of services.">
</figure></div><aside class="col-md-4 chunk ps-2"><figcaption class="figure-caption">The interactions going on between the components to provide and use the right component for the turnstile, using the concept of services.</figcaption></aside></div>
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><ol>
<li><strong>Service Registration:</strong> A component <em>offering</em> a service, such as a turnstile, first registers its capability in a service registry. In the example, the configuration manager could be the service registry that keeps an overview of all services available.</li>
<li><strong>Service Discovery:</strong> A component <em>requiring</em> a service, like the gate controller needs a turnstile, looks up which turnstiles are available by asking the service registry. As part of this discovery, it somehow needs to describe what it is looking for. In the simplest case, this can be some identifier of a service.</li>
<li><strong>Service Usage:</strong> Once the user of a service got a reference to it, it can use the service, as if they had been linked statically.</li>
</ol>
<p>For this to work, we not only need a description of the interface, the interface only describes <em>how</em> a specific function can be used (which methods to use, which messages to send). The description of a service hence contains such an interface description, together with information on any dependencies, and also a description of <em>what</em> the service is providing. Loosely speaking, the service description is towards components about the same as an interface relative to a class in object orientation.</p>
<p>Services are the main way to structure modern systems, though in various forms and details. Services are the basis for many architectural styles. One of them is called <em>SOA - Service-Oriented Architecture</em>, and another one is that of <em>micro-services</em>. However, you should know about the principles so you can understand the idea, independent of a specific style or hype.</p>
</div><aside class="col-md-4 chunk ps-2"></aside></div>
</section>
<section class="mt-2 mb-5 py-3">
<div class="row g-0 my-3"><div class="col-md-8 px-4 chunk"><h1>Component Frameworks</h1>
<p>Most programming languages don't have support for components built-in. Java, for instance, has the concept of a package that can group together classes. A similar mechanism of modules and packages exist in Python. But such mechanisms are only part of what we need to have a complete component framework to manage them and have a flexible system architecture.</p>
<p>Instead, component frameworks are often defined separately, and contain rules for components (the so-called <em>component model</em>) as well as libraries that offer support for various component mechanisms.  There are many examples, for different programming languages and different needs. Some component frameworks are commercial, some are open source.</p>
<p>In Java, for instance, OSGi is a packaging mechanisms that defines so-called bundles that are like a container for Java classes. These are effectively zip files with additional files internally that tell the OSGi runtime what to do with them. Based on OSGi there are at least three different component models (iPOJO, Blueprints, Declarative Services) that offer the concept of services.</p>
<p>Sun, the original company behind Java, also defined a component model for enterprise software, called Java EE (Java Enterprise Edition), which defined components separately from the Java language, as its own library and product.</p>
<p>Similar frameworks exist for many other languages. You can look at the (messy) list provided on the <a href="https://en.wikipedia.org/wiki/Component-based_software_engineering">Wikipedia article on component-based software engineering</a> to get a more complete picture.</p>
<p>The list of features is also long.</p>
<ul>
<li><strong>Lifecycle management:</strong> Components need to be installed, started, stopped. The component framework implements such lifecycle functions.</li>
<li><strong>Service registration and discovery:</strong> A component framework can offer functionality to register services. The principle for that is simple, but the implementation can be complex.</li>
<li><strong>Persistence:</strong> Components may save their states and data when the computer is shut down, and the component framework can restore them at a later time. This function is called persistence.</li>
<li><strong>Communication:</strong> Component frameworks may also offer functionality for components to communicate with each other, and offer methods to manage channels and connections.</li>
<li><strong>Logging:</strong> Components may log events to make the monitoring of the system easier.</li>
</ul>
<p>These are just a few examples of functionalities offered by component frameworks.</p>
</div><aside class="col-md-4 chunk ps-2"><p>A while ago, Java 9 was published with a framework called Java Jigsaw that <a href="https://openjdk.org/projects/jigsaw/">introduces a module system for Java</a>.</p>
</aside></div>
</section>
  </main>



  <nav class="navbar navbar-expand-lg navbar-dark fixed-bottom" style="background-color: #555555">
    <div class="container-fluid">
      <div class="collapse navbar-collapse">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" href="https://www.ntnu.no/informasjonskapsler">Om informasjonskapsler</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://www.ntnu.no/personvern">Personvern</a>
          </li>
        </ul>
        <div class="bg-light ms-auto border-0"></div>
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link" data-bs-toggle="offcanvas" href="#offcanvasExample" role="button"
              aria-controls="offcanvasExample">
              <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                class="bi bi-pencil-square" viewBox="0 0 16 16">
                <path
                  d="M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z" />
                <path fill-rule="evenodd"
                  d="M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z" />
              </svg>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <div class="offcanvas offcanvas-end text-bg-dark" tabindex="-1" id="offcanvasExample"
    aria-labelledby="offcanvasExampleLabel">
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasExampleLabel">Edit this page</h5>
    </div>
    <div class="offcanvas-body">
      <ul>
        <li>This site is hosted on <a href="https://github.com/falkr/ttm41751">Github</a></li>
        <li>The source is written in <a href="../supermark/index.html">Supermark</a> syntax</li>
        <li>To edit this page, make a commit to <a
            href="https://github.com/falkr/ttm4175/tree/master/pages/unit-9-comp/preparation-1.md">this file</a></li>
      </ul>
    </div>
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script>
    anchors.add('h1').add('h2').add('h3');
    anchors.options.visible = 'always';
    var clipboard = new ClipboardJS('.copy-button');
  </script>
  <script>
</script>
</body>

</html>