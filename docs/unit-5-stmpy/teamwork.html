<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <meta name="generator" content="">
  <title>IIK Education Guide</title>
  <link rel="canonical" href="https://edu.iik.ntnu.no">
  <!-- Bootstrap core CSS -->
  <link href="../assets/bootstrap.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="../assets/style.css" rel="stylesheet">
  <link rel="stylesheet" href="../assets/bootstrap-icons.css">
  <script src="../assets/anchor.js"></script>
  <style type="text/css">
    a.ntnu-button {
    font: 600 14px "Source Sans Pro", Georgia, serif;
    background: #fff;
    color: #00509e;
    border: 1px solid #00509e;
    border-color: #00509e !important;
    border-style: solid !important;
    border-radius: 10rem;
    display: inline-block;
    padding: 5px 15px;
    height: auto;
    font-weight: bold;
    line-height: 1.5em;
    text-align: center;
    vertical-align: top;
    cursor: pointer;
    text-decoration: none
}

a.ntnu-button:hover {
    background: #00509e;
    color: #fff;
    text-decoration: none
}
.person-card img {
  width: 56px;
  border: 1px solid #eee;
}

.person-card-name {
  font-weight: 600;
}

.person-card-email {
  font-size: 0.8em;
}

.person-card-detail {
  font-size: 0.8em;
}
div.check ul,
div.check ul li {
  padding: 0;
  margin: 0;
  list-style: none;
}

div.check ul {
  margin: 2em 0;
}

div.check ul li {
  margin: 1em;
  margin-left: 3em;
}

div.check ul li:before {
  content: '\f26a';
  font-family: bootstrap-icons !important;
  font-size:20;
  float: left;
  margin-left: -1.5em;
  color: #1481b8;
}
div.delivery p {
  padding: 10px;
  background-color: #ffd9ab;
  font-family: "Source Sans Pro", Georgia, serif;
  border-radius: 5px;
  border-left: 6px solid #fc8c03; 
}
  
div.delivery p::before {
  content: 'Delivery: ';
  font-family: "Source Sans Pro", Georgia, serif;
  color: #fc8c03;
  display: inline;
  font-weight: bold;
}
div.figure {
  padding: 20px 0 20px 0;
  width: 100%;
}

div.figurefullwitdth {
  padding: 20px 0 20px 0;
  margin-left: -33px;
  margin-right: -33px;
  width: 100%;
}
div.goals ul,
div.goals ul li {
  padding: 0;
  margin: 0;
  list-style: none;
}

div.goals ul {
  margin: 2em 0;
}

div.goals ul li {
  margin: 1em;
  margin-left: 3em;
}

div.goals ul li:before {
  content: '\f26a';
  font-family: bootstrap-icons !important;
  font-size:20;
  float: left;
  margin-left: -1.5em;
  color: #1481b8;
}
.w3collapsible {
  background-color:#f0e9db;
  color: #868279; 
  padding: 8px 18px 8px 8px;
  cursor: pointer;
  width: 100%;
  border: none;
  border-radius: 3px 3px 0 0;
  text-align: left;
  outline: none;
  font-size: 15px;
}

.w3active, .w3collapsible:hover {
  background-color: #f0e9cb;
}

.w3content {
  filter: blur(3px);
  padding: 0 18px;
  display: block;
  overflow: hidden;
  background-color: #f3f3f3;
  margin-bottom: 15px;
}


/*tr.rubric_title {background-color: lightgrey}*/
/*tr.rubric_a {background-color: #D0E8DC}
tr.rubric_b {background-color: #EEF7DB}
tr.rubric_c {background-color: #FCFDE3}
tr.rubric_d {background-color: #FDF3D6}
tr.rubric_e {background-color: #F8D9C2}
tr.rubric_f {background-color: #EBBCB9}

tr.rubric_title {background-color: white; 
	border-top: 2px black solid; 
	border-bottom: 2px black solid;}
td.rubric_title {background-color: white;}
td.rubric_a {background-color: #D0E8DC}
td.rubric_b {background-color: #EEF7DB}
td.rubric_c {background-color: #FCFDE3}
td.rubric_d {background-color: #FDF3D6}
td.rubric_e {background-color: #F8D9C2}
td.rubric_f {background-color: #EBBCB9}

th.rubric_title {background-color: white}
th.rubric_a {background-color: #D0E8DC}
th.rubric_b {background-color: #EEF7DB}
th.rubric_c {background-color: #FCFDE3}
th.rubric_d {background-color: #FDF3D6}
th.rubric_e {background-color: #F8D9C2}
th.rubric_f {background-color: #EBBCB9}

table.rubric th {border-top: 2px black solid; border-bottom: 2px black solid; text-align: center;
	vertical-align:top;}
table.rubric td {width:22%; border-bottom: 1px black solid;}}*/

.rubric p {margin: 0px}
.rubric th {border-top: 1.4px black solid; border-bottom: 1.4px black solid; text-align: center; padding:6px;}
.rubric td {border-bottom: 0.7px black solid; vertical-align:top; font-size:12px; padding:6px;}
.rubric th {font-size:12px; vertical-align:top; }
.rubric td:nth-child(2), .rubric th:nth-child(2){background-color: #D0E8DC; width:22%}
.rubric td:nth-child(3), .rubric th:nth-child(3){background-color: #FCFDE3; width:22%}
.rubric td:nth-child(4), .rubric th:nth-child(4){background-color: #F8D9C2; width:22%}
.rubric td:nth-child(5), .rubric th:nth-child(5){background-color: #EBBCB9; width:22%}
.rubric tfoot td {text-align:right; border-bottom: none; padding: 1px;}
.rubric tfoot a {font-size: 12px; font-style: italic; color: gray}


table.weekplan {
  width: 100%;
  table-layout: fixed;
}

table.weekplan td {
  background-color: #1481b8;
  color: white;
}

table.weekplan td, table.weekplan th {
  text-align: center;
}

table.weekplan td:empty {
  background-color: white;
}

table.weekplan td:first-child {
  background-color: white;
  color: grey;
}

table.weekplan a {
  font-weight:bold;
  color: white;
  text-decoration: underline;
}

  </style>
</head>

<body>


  <nav class="navbar navbar-expand-md navbar-dark " style="background-color:#333333">
    <!-- <nav class="navbar navbar-expand-md navbar-dark " style="background-color:#2B65EC"> -->


    <div class="navbar-nav">
      <!-- flex-row ml-md-auto d-none d-md-flex">-->
      <a class="navbar-brand" href="https://ntnu.edu" title="NTNU Homepage">
        <svg width="auto" height="25px">
          <image xlink:href="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.svg"
            src="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.png" width="100%"
            height="100%" alt="NTNU Logo"></image>
        </svg>
      </a>
    </div>

    <div class="navbar-nav flex-row ml-md-auto d-none d-md-flex flex-grow-1" style="margin-left:2rem">


      <ul class="nav nav-pills">
        <li class="nav-item">
          <a class="nav-link" href="index.html" style="font-weight: bold; color:white" )>edu.<span
              style="font-weight:200">iik.ntnu.no</span></a>
        </li>
      </ul>
    </div>
  </nav>


  <main class="container">

    <div class="row g-5 justify-content-md-center pb-5">



      <div class="col-md-8" style="margin-top: 6rem;">
        <div class="page">
    </section>
    <section class="content">
<h1>State Machines in Python</h1>
<p>This week you are going to implement state machines in Python.
As a delivery you should keep a reflection document about your work where you include screen shots and your observations.
The running code is in itself a feedback if you got it right.</p>

<h3>Installation</h3>
<p>Make sure you have <a href="prep-stmpy.html#jupyter-notebooks-introducing-stmpy">STMPY and Jupyter lab set up</a> like in the preparation. In case you have troubles with Python:</p>
<ul>
<li>Use a limited amount of time to try fixing the installation.</li>
<li>Share a working installation in you team, by sharing your screen.</li>
<li>Run the Notebooks <a href="https://mybinder.org/v2/gh/falkr/stmpy-notebooks/HEAD">using Binder</a></li>
<li>Fix your installation later</li>
</ul>

<p>In case your notebook gets stuck, you can restart its Python kernel in the menu <code>Kernel</code>.</p>

<h3>Today's Challenge</h3>
<p>The tasks today are not particularly difficult, but a lot of details must come together to get it right.
Also, as code is involved, it may be difficult for everyone in the team to have exactly the same understanding at the same time. So, take some time to explain the code to each other.
Also, consider to repeat some parts of the assignment after the team activity on tour own.</p>

    </section>
    <section class="content">
<h1>Task 1: Traffic Light</h1>

<div class="figure">
<img src="../../pages/unit-5-stmpy/figures/notebook-traffic-light.jpg" alt="A simple user interface representing the traffic light in the output of a cell in a Jupyter notebook." width="100%"/>
<span name="../../pages/unit-5-stmpy/figures/notebook-traffic-light.jpg">&nbsp;</span>
<aside name="../../pages/unit-5-stmpy/figures/notebook-traffic-light.jpg"><p><p>A simple user interface representing the traffic light in the output of a cell in a Jupyter notebook.</p>
</p></aside>
</div>
<ul>
<li>Look at the provided code of the traffic light, and run it.</li>
<li>Create a state machine diagram by looking at the code.</li>
<li>Create a copy of the diagram, but use more entry and exit actions on the states.</li>
<li>Create another implementation of the traffic light state machine that uses more entry and exit actions in another cell and run it.</li>
</ul>

    </section>
    <section class="content">
<h1>Task 2: Kitchen Timer</h1>

<div class="figure">
<img src="../../pages/unit-5-stmpy/figures/notebook-kitchen-timer.jpg" alt="A simple user interface representing the kitchen timer in the output of a cell in a Jupyter notebook." width="100%"/>
<span name="../../pages/unit-5-stmpy/figures/notebook-kitchen-timer.jpg">&nbsp;</span>
<aside name="../../pages/unit-5-stmpy/figures/notebook-kitchen-timer.jpg"><p><p>A simple user interface representing the kitchen timer in the output of a cell in a Jupyter notebook.</p>
</p></aside>
</div>
<ul>
<li>Use the code provided for the simple use interface of the kitchen timer.</li>
<li>Get the state machine diagram you built previously, and create it in STMPY.</li>
<li>Run the state machine and validate if you are satisfied with how it works.
<ul>
<li>Use a shorter timeout, like 4 seconds instead of 15 minutes.</li>
</ul>
</li>
</ul>

    </section>
    <section class="content">
<h1>Task 3: Head Lamp</h1>
<p>You should design the state machine for the controller of a head lamp.
This headlamp is used for outdoor activities.
It has an infrared sensor attached, so that the LED can be switched on and off without fiddling with delicate buttons.
It’s enough to swipe the hand in front of the sensor and the LED turns off.
Another swipe turns the LED on again. However, to prevent the LED from turning off unintentionally, the swipe has to happen within a short time.
If the hand is in front of the IR sensor for more than one second, the gesture is ignored.</p>

<iframe src="https://ntnu.cloud.panopto.eu/Panopto/Pages/Embed.aspx?id=dfb44925-cafc-4ed0-9a54-ae39008d9451&autoplay=false&offerviewer=false&showtitle=false&showbrand=true&captions=false&interactivity=all" style="width:100%; border: 1px solid #464646;" allowfullscreen allow="autoplay"></iframe>



<p>The communication diagram below shows the context of the controller.
It receives the signals <code>hand</code> and <code>no_hand</code> from the IR sensor, and it controls the LED with signals on and off.</p>

<div class="figure">
<img src="../../pages/unit-5-stmpy/figures/head-lights-1.svg" width="100%"/>
</div>
<h2>State Machine Design</h2>
<p>Design first a state machine diagram for the problem.</p>
<ul>
<li>Assume the controller starts in a state with the LED switched off and the IR sensor not detecting any hand.</li>
<li>Use the action <code>on()</code> and <code>off()</code> to control the lamp.</li>
<li>Pay attention to the control state. Which situation does each of them represent? (In this example, you have only a few states. Meaningful names for them can make the task easier.)</li>
<li>Can you use some form of symmetry in the diagram to get more confidence in the solution?</li>
</ul>

<h2>Implementation in Python</h2>
<p>Create now from the state machine diagram a solution in Python using the STMPY patterns and libraries, like before.</p>
<ul>
<li>Start with the code provided in notebook <strong>Head Lamp</strong></li>
<li>The IR sensor is represented with a checkbox. When you select the checkbox, it symbolizes that the hand is in front of the sensor.</li>
</ul>

<div class="figure">
<img src="../../pages/unit-5-stmpy/figures/notebook-head-light.jpg" alt="A simple user interface representing the head lamp in the output of a cell in a Jupyter notebook." width="100%"/>
<span name="../../pages/unit-5-stmpy/figures/notebook-head-light.jpg">&nbsp;</span>
<aside name="../../pages/unit-5-stmpy/figures/notebook-head-light.jpg"><p><p>A simple user interface representing the head lamp in the output of a cell in a Jupyter notebook.</p>
</p></aside>
</div>
<h2>Debugging the State Machine</h2>
<p>When running the implementation, does the state machine behave as intended? If not, what is the problem? Do you have to go back and also change the diagram, or is it more technical problems with the code? (Or a combination?)</p>

    </section>
    <section class="content">
<h1>Deliveries</h1>

<h3>Reflection Document about State Machine Implementation</h3>
<ul>
<li>Write down your observations.</li>
<li>Document the results.</li>
<li>Pay especially attention on the process around the head lamp, and delivering it in a high-quality process.</li>
<li>Deliver on Teams</li>
</ul>
<h3>Team Reflection</h3>
<ul>
<li>As always, update your document about the team process and roles.</li>
</ul>
<h3>Individual Reflection</h3>
<ul>
<li>Fill out the <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=cgahCS-CZ0SluluzdZZ8BSxiepoCd7lKk70IThBWqdJUQUQxNEVLOTBZMDZGNkJBM1Y2NjZCTzhWSi4u" class="arrow">individual reflection survey</a>.</li>
</ul>

    </section>
</div>
      </div>




    </div>

  </main>

  <footer class="blog-footer">

  </footer>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
  <script>
    anchors.add('h1').add('h2').add('h3');
    anchors.options.visible = 'always';
  </script>
  <script>
    














  </script>
</body>

</html>