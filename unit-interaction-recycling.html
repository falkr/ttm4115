<html lang="en-US"><head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1"/>

<title>TTM4115</title>
<meta property="og:title" content="TTM4115">
<meta property="og:locale" content="en_US">
<meta name="description" content="Design of Communicating Systems">
<meta property="og:description" content="Design of Communicating Systems">


<!--<link rel="stylesheet" type="text/css" href="style.css" />-->
<!--<link href="https://fonts.googleapis.com/css?family=Merriweather:400,400italic,700,700italic|Source+Code+Pro|Source+Sans+Pro:200,300,400,600,400italic,600italic|Rock+Salt" rel="stylesheet" type="text/css">-->

<!--
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">-->

<link href="assets/bootstrap.min.css" rel="stylesheet">

<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
<!--<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.1/css/all.css" integrity="sha384-gfdkjb5BdAXd+lj+gudLWI+BXq4IuLW5IT+brZEZsLFm++aCMlF1V92rMkPaX4PP" crossorigin="anonymous">-->

<link rel="stylesheet" type="text/css" href="assets/style.css" />
<link rel="stylesheet" type="text/css" href="assets/bootstrap-icons.css">

<script src="assets/anchor.js"></script>
<script src="assets/script-aside.js"></script>
<style type="text/css">div.delivery p {
  padding: 10px;
  background-color: #ffd9ab;
  font-family: "Source Sans Pro", Georgia, serif;
  border-radius: 5px;
  border-left: 6px solid #fc8c03; 
}
  
div.delivery p::before {
  content: 'Delivery: ';
  font-family: "Source Sans Pro", Georgia, serif;
  color: #fc8c03;
  display: inline;
  font-weight: bold;
}
div.figure {
  padding: 20px 0 20px 0;
  width: 100%;
}

div.figurefullwitdth {
  padding: 20px 0 20px 0;
  margin-left: -33px;
  margin-right: -33px;
  width: 100%;
}
div.goals ul,
div.goals ul li {
  padding: 0;
  margin: 0;
  list-style: none;
}

div.goals ul {
  margin: 2em 0;
}

div.goals ul li {
  margin: 1em;
  margin-left: 3em;
}

div.goals ul li:before {
  content: '\f26a';
  font-family: bootstrap-icons !important;
  font-size:20;
  float: left;
  margin-left: -1.5em;
  color: #1481b8;
}
.w3collapsible {
  background-color:#f0e9db;
  color: #868279; 
  padding: 8px 18px 8px 8px;
  cursor: pointer;
  width: 100%;
  border: none;
  border-radius: 3px 3px 0 0;
  text-align: left;
  outline: none;
  font-size: 15px;
}

.w3active, .w3collapsible:hover {
  background-color: #f0e9cb;
}

.w3content {
  filter: blur(3px);
  padding: 0 18px;
  display: block;
  overflow: hidden;
  background-color: #f3f3f3;
  margin-bottom: 15px;
}
div.rat ol {
  list-style-type: upper-alpha;
}
/*tr.rubric_title {background-color: lightgrey}*/
/*tr.rubric_a {background-color: #D0E8DC}
tr.rubric_b {background-color: #EEF7DB}
tr.rubric_c {background-color: #FCFDE3}
tr.rubric_d {background-color: #FDF3D6}
tr.rubric_e {background-color: #F8D9C2}
tr.rubric_f {background-color: #EBBCB9}

tr.rubric_title {background-color: white; 
	border-top: 2px black solid; 
	border-bottom: 2px black solid;}
td.rubric_title {background-color: white;}
td.rubric_a {background-color: #D0E8DC}
td.rubric_b {background-color: #EEF7DB}
td.rubric_c {background-color: #FCFDE3}
td.rubric_d {background-color: #FDF3D6}
td.rubric_e {background-color: #F8D9C2}
td.rubric_f {background-color: #EBBCB9}

th.rubric_title {background-color: white}
th.rubric_a {background-color: #D0E8DC}
th.rubric_b {background-color: #EEF7DB}
th.rubric_c {background-color: #FCFDE3}
th.rubric_d {background-color: #FDF3D6}
th.rubric_e {background-color: #F8D9C2}
th.rubric_f {background-color: #EBBCB9}

table.rubric th {border-top: 2px black solid; border-bottom: 2px black solid; text-align: center;
	vertical-align:top;}
table.rubric td {width:22%; border-bottom: 1px black solid;}}*/

.rubric p {margin: 0px}
.rubric td:nth-child(2), .rubric th:nth-child(2){background-color: #D0E8DC; width:22%}
.rubric td:nth-child(3), .rubric th:nth-child(3){background-color: #FCFDE3; width:22%}
.rubric td:nth-child(4), .rubric th:nth-child(4){background-color: #F8D9C2; width:22%}
.rubric td:nth-child(5), .rubric th:nth-child(5){background-color: #EBBCB9; width:22%}
.rubric th {border-top: 1.4px black solid; border-bottom: 1.4px black solid; text-align: center; padding:6px;}
.rubric td {border-bottom: 0.7px black solid; vertical-align:top; font-size:12px; padding:6px;}
.rubric th {font-size:12px; vertical-align:top; }
.rubric tfoot td {text-align:right; border-bottom: none; padding: 1px;}
.rubric tfoot a {font-size: 12px; font-style: italic; color: gray}


</style>
</head>
<body id="top">

<nav class="navbar navbar-expand-md navbar-dark " style="background-color:#666666"#2B65EC"> <!-- fixed-top -->
        <ul class="nav nav-pills">
        <li class="nav-item">
    <a class="nav-link" href="index.html" style="font-weight: bold")>TTM4115</a>
  </li>
        
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Preparation</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="prep-setup.html"><b>1.</b> Introduction and Setup</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="prep-modeling.html"><b>2.</b> Modeling and Deployment</a>
      <a class="dropdown-item" href="prep-statemachines.html"><b>3.</b> State Machines</a>
      <a class="dropdown-item" href="prep-user-requirements.html"><b>4.</b> User Requirements</a>
      <a class="dropdown-item" href="prep-stmpy.html"><b>5.</b> State Machines in Python</a>
      <a class="dropdown-item" href="prep-agile.html"><b>6.</b> Agile Development</a>
      <a class="dropdown-item" href="prep-communication.html"><b>7.</b> Communication</a>
      <a class="dropdown-item" href="prep-interactions.html"><b>8.</b> Interactions</a>
      <a class="dropdown-item" href="prep-components.html"><b>9.</b> Components</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Activities</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="unit-setup.html"><b>1.</b> Team Setup</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="unit-modeling.html"<b>2.</b> Modeling and Deployment</a>
      <a class="dropdown-item" href="unit-statemachines.html"><b>3.</b> State Machines</a>
      <a class="dropdown-item" href="unit-user-requirements.html"><b>4.</b> User Requirements</a>
      <a class="dropdown-item" href="unit-stmpy.html"><b>5.</b> State Machines in Python</a>
  	  <a class="dropdown-item" href="unit-agile.html"><b>6.</b> Agile Development</a>
      <a class="dropdown-item" href="unit-communication.html"><b>7.</b> Communication</a>
      <a class="dropdown-item" href="unit-interactions.html"><b>8.</b> Interactions</a>
      <a class="dropdown-item" href="unit-components.html"><b>9.</b> Components</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Focus</a>
    <div class="dropdown-menu">
    <a class="dropdown-item" href="unit-modeling-diagram-tips.html">Diagram Tips</a>
    <a class="dropdown-item" href="unit-statemachines-data.html">State Machines — Data vs. States</a>
    <a class="dropdown-item" href="unit-statemachines-car.html">Focus: State Machines — Car Lock Example</a>
    <a class="dropdown-item" href="unit-statemachines-head.html">Focus: State Machines — Headphones Exercise</a>
    <a class="dropdown-item" href="unit-components-tips.html">Tips: Components</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Deliveries</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="deliveries.html">Deliveries Overview</a>
      <a class="dropdown-item" href="deliveries-project.html">Semester Project</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t1.html">System Spec, version 1</a>
      <a class="dropdown-item" href="deliveries-i1.html">Feedback on version 1</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t2.html">System Spec, version 2</a>
      <a class="dropdown-item" href="deliveries-i2.html">Feedback on version 2</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="deliveries-t3.html">System Spec, final version</a>
      <a class="dropdown-item" href="deliveries-i3.html">Individual Reflection</a>
    </div>
  </li>

  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Tools</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="tools.html">Tools Overview</a>
      <div class="dropdown-divider"></div>
      <a class="dropdown-item" href="tools-python.html">Python</a>
	    <a class="dropdown-item" href="tools-gui.html">Python GUIs with appJar</a>
      <a class="dropdown-item" href="tools-notebooks.html">Python Notebooks</a>
      <a class="dropdown-item" href="tools-mqtt.html">MQTT</a>
      <a class="dropdown-item" href="tools-stmpy.html">STMPY</a>
	  <a class="dropdown-item" href="tools-base.html">Base Architecture</a>
    </div>
  </li>
  
  <li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" data-toggle="dropdown" href="#" role="button" aria-haspopup="true" aria-expanded="false">Learning</a>
    <div class="dropdown-menu">
      <a class="dropdown-item" href="learning-goals.html">Learning Goals</a>
      <a class="dropdown-item" href="learning-tbl.html">Team-Based Learning</a>
      <a class="dropdown-item" href="learning-teamwork.html">Teamwork Procedures</a>
      <a class="dropdown-item" href="learning-reflection.html">Reflection</a>
      <a class="dropdown-item" href="feedback.html">Feedback</a>
      <a class="dropdown-item" href="learning-grading.html">Grading</a>
      <!--<a class="dropdown-item" href="learning-areas.html">Working Areas</a>-->
      <!--<a class="dropdown-item" href="learning-expectations.html">Expectations</a>-->
    </div>
  </li>
  <!--
  <li class="nav-item">
    <a class="nav-link" href="#">Blackboard</a>
  </li>-->
</ul>

<div class="navbar-nav flex-row ml-md-auto d-none d-md-flex"></div>
             <a class="navbar-brand" href="https://ntnu.edu" title="NTNU Homepage">
      	<svg width="100" height="30">
      		<image xlink:href="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.svg" 
      		src="https://innsida.ntnu.no/innsida-theme/images/ntnu-graphics/ntnu_logo_white.png" width="100%" height="100%" alt="NTNU Logo"></image>
      	</svg>
      </a>
    </nav>


<div class="page">
    </section>
    <section class="content">
<h1>Recycling Park</h1>

<div class="figure">
<img src="figures/interactions/heggstadmoen-photo.jpg" width="100%"/>
</div>
<p>A recycling park is an area where people can deliver all sorts of special waste, like wood, scrap (old metall), gardening waste, electric devices, batteries and general waste. Some waste is free to deliver, and some waste is subject to a charge. The recycling park is therefore split in two areas: The first area has parking spaces where people can park their car and get rid of the free waste types. The second area is for the paid waste.</p>

<div class="figure">
<img src="figures/interactions/heggstadmoen-map.jpg" width="100%"/>
</div>
<h2>Technical Installation</h2>
<p>The area for the payed waste has a gate at its entrance and a gate at its exit. The gate has lights (red or green) and an arm that can open to let a car drive through. The gates are combined with big weight scales integrated into the road where an entire car can drive on. With them, the weight car can be measured before and after. At the entry and exit, customers swipe their credit card. Note that they swipe it also at the entry, and the credit card number is used to identify a customer on their way out, so that entry and exit weight of the same customer can be compared.</p>

<h2>Goals and Functions</h2>
<p>The system must serve two main :goals:</p>
<ol>
<li>The number of cars within the payed area is limited to 30 cars at a time.</li>
<li>Cars are registered with their weight at the entrance and exit, and customers are billed for the waste according to the difference of their car's weight.</li>
</ol>
<p>Other functions of the system can be to record detailed statistics about the number of cars each day, and figure out the most busy visiting times. But these functions are not relevant now.</p>

<h2>Communication and Deployment</h2>
<p>It's a modern installation. All units (lights, weights, gates, card readers) are connected to an IP-based communication bus (Wi-Fi or Ethernet). There is a central computer in the recycling park that runs the application to connect the system. It can send and receive messages with the different units.</p>

<h2>messages</h2>
<p>Let's have a closer look at the messages that all the deployed units can send. The suffix <code>_x</code> behind the message names can be replaced with (<code>_1</code>) or (<code>_2</code>), to address the units at the entry (<code>_1</code>) or the exit (<code>_2</code>). We do not show the format of any values that the messages may carry (like image format or weight or payment unit), you may ignore these details.</p>
<p>The <strong>gate</strong> simply opens for a while so that a car can pass through when it receives the message <code>OPEN_x</code>.</p>
<p>The <strong>lights</strong> are either red or green. Green means that the customer can drive in, red means that they have to wait, either for weighing the car, processing the payment or because too many cars are already in the area. The light can be controlled with the messages <code>RED_x</code> and <code>GREEN_x</code>.</p>
<p>The <strong>weight</strong> is place before the gate. To make a reading, the message <code>GET_WEIGHT_x</code> can be sent to the weight. It then answers with the message <code>WEIGHT_x</code>. (This message includes the weight as a value.)</p>
<p>The <strong>card reader at the entry</strong> registers a credit card at the entry. Once a customer arrives, they swipe their card. message <code>CARD_x</code> is sent, and it includes the card number.</p>
<p>The <strong>card reader at the exit</strong> register a credit card once a customer wants to exit. They swipe their card, and the card reader sends message <code>CARD_x</code>.</p>
<p>The <strong>payment service</strong> is an online web service. For simplicity we assume it is also reachable via messages. Assume it accepts messages <code>PAY</code> when a payment should be made, and it answers with message <code>PAY_OK</code>.</p>
<p>We assume in the following that all payments are okay, both weights work perfectly, and all customers behave nicely. We also assume that customers do not mix up their cards, i.e., only card that have been swiped at the entry are used at the exit.</p>

<h2>Task: Car Entry</h2>
<p>Develop the sequence diagram <strong>Car Entry</strong> that shows how a car enters the payed area. Assume that no messages are lost and all components are working well.</p>
<p>Cover the following lifelines:</p>
<ul>
<li><code>gate_1: Gate</code></li>
<li><code>lights_1: Lights</code></li>
<li><code>card_1: Card Reader</code></li>
<li><code>w_1: Weight</code></li>
<li><code>c: Computer</code></li>
</ul>

<h2>Task: Car Exit</h2>
<p>Develop the sequence diagram <strong>Car Exit</strong> that show hows a car exits the payed area. Assume that no messages are lost and all components are working well.</p>
<p>Cover the following lifelines:</p>
<ul>
<li><code>c: Computer</code></li>
<li><code>p: Payment</code></li>
<li><code>gate_2: Gate</code></li>
<li><code>lights_2: Lights</code></li>
<li><code>card_2: Card Reader</code></li>
<li><code>w_2: Weight</code></li>
</ul>
<h2>Task: Complete Single Visit</h2>
<p>Using the two existing diagrams, develop one that specifies the complete visit of a single car. Use the following ordering of lifelines:</p>
<ul>
<li><code>gate_1: Gate</code></li>
<li><code>lights_1: Lights</code></li>
<li><code>card_1: Card Reader</code></li>
<li><code>w_1: Weight</code></li>
<li><code>c: Computer</code></li>
<li><code>p: Payment</code></li>
<li><code>gate_2: Gate</code></li>
<li><code>lights_2: Lights</code></li>
<li><code>card_2: Card Reader</code></li>
<li><code>w_2: Weight</code></li>
</ul>

<h2>Task: Robust Car Entry</h2>
<p>Create a new sequence diagram <strong>Robust Car Entry</strong> that is an improved version of the original diagram. Assume now that pretty much everything can fail:</p>
<ul>
<li>components can break down</li>
<li>operations in the components can fail</li>
<li>messages may be lost</li>
</ul>
<p>Look first at the original diagram and think about how the behavior can be improved so that the system handles errors &quot;a little bit better.&quot; (What that means in detail is up to your interpretation.) You may for instance introduce additional messages and timers. Show timers as messages sent from a lifeline back to itself. <strong>Briefly document your reasoning as comments in the diagram.</strong></p>

    </section>
    <section class="content">
<h1>Today's Delivery</h1>
<ul>
<li>Create a single PDF with all diagrams from today.</li>
<li>Filename must be <code>ttm4115-2019-TA-interactions-TXX.pdf</code>, where <code>XX</code> refers to your team number.</li>
<li>Complete the Team Reflection, and copy the content into your <a href="team-reflection.html">Team Reflection Document</a></li>
<li>Clean up the working area.</li>
</ul>

    </section>
</div>


<footer></footer>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
<script>









</script>
<script>
  anchors.options.visible = 'touch';
  anchors.add("h1, h2, h3");
</script>
</body>
</html>